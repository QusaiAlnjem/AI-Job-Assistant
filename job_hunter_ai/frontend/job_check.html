<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Job Check - JobHunter AI</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .check-container { max-width: 800px; margin: 0 auto; }
        .result-box { background: #f8fafc; border: 1px solid #e2e8f0; padding: 20px; border-radius: 8px; margin-top: 20px; }
        textarea { width: 100%; height: 200px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; resize: vertical; font-family: inherit; }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="container nav-content">
            <div class="logo">JobHunter AI</div>
            <div class="nav-links">
                <a href="dashboard.html" class="btn-text">Dashboard</a>
            </div>
        </div>
    </nav>

    <div class="container dashboard-grid">
        <aside class="sidebar">
            <a href="scanner.html" class="btn btn-large">
                <i class="fas fa-plus-circle"></i> New Scan
            </a>
            <div class="menu">
                <a href="dashboard.html"><i class="fas fa-th-large"></i> Dashboard</a>
                <a href="job_check.html" class="active"><i class="fas fa-check-double"></i> Job Check</a>
                <a href="profile.html"><i class="fas fa-user"></i> My Profile</a>
            </div>
        </aside>

        <main class="content">
            <h2>Manual Job Check</h2>
            <p class="text-muted" style="margin-bottom: 20px;">Paste a job description below to see if your resume is a match.</p>

            <div class="card" style="background: white; padding: 30px; border-radius: 8px;">
                
                <div id="resume-section" style="margin-bottom: 20px; padding: 10px; background: #e6fffa; border: 1px solid #b2f5ea; border-radius: 6px; color: #234e52;">
                    <i class="fas fa-check-circle"></i> <strong>Resume Ready</strong>
                </div>
                <div id="no-resume-alert" style="margin-bottom: 20px; padding: 10px; background: #fff5f5; border: 1px solid #fed7d7; color: #c53030; border-radius: 6px;">
                    Please <a href="profile.html">upload a resume</a> first.
                </div>

                <form id="checkForm">
                    <div class="form-group">
                        <label>Job Title (Optional)</label>
                        <input type="text" id="jobTitle" placeholder="e.g. Senior Product Manager" style="width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 6px;">
                    </div>

                    <div class="form-group">
                        <label>Job Description</label>
                        <textarea id="jobDesc" placeholder="Paste the full job description here..." required></textarea>
                    </div>

                    <button type="submit" class="btn" id="checkBtn">Calculate Match</button>
                </form>

                <div id="loading-state" style="margin-top: 20px; text-align: center;">
                    <div class="spinner"></div>
                </div>

                <div id="result-area" class="result-box" style="display: none;">
                    <div class="result-header">
                        <div class="score-container">
                            <div id="score-circle" class="score-circle">
                                <span id="res-score">0%</span>
                            </div>
                            <div class="score-label">Match Score</div>
                        </div>
                        <div class="role-details">
                            <span class="text-muted">Target Role:</span>
                            <h3 id="res-title" style="margin: 0; font-size: 1.5rem;">Role Title</h3>
                        </div>
                    </div>

                    <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">

                    <div id="missing-section" style="margin-bottom: 25px;">
                        <h4 style="color: #b91c1c; margin-bottom: 10px;">
                            <i class="fas fa-exclamation-triangle"></i> Missing Keywords
                        </h4>
                        <div id="res-keywords" class="keyword-cloud">
                            </div>
                    </div>

                    <div id="tips-section">
                        <h4 style="color: #1f2937; margin-bottom: 10px;">
                            <i class="fas fa-lightbulb" style="color: #fbbf24;"></i> Improvement Tips
                        </h4>
                        <ul id="res-advice-list" class="advice-list">
                            </ul>
                    </div>
                    
                    <div style="margin-top: 25px; text-align: right;">
                        <a href="dashboard.html" class="btn-small">View in Dashboard</a>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script type="module" src="assets/js/job_check.js"></script>
</body>
</html>